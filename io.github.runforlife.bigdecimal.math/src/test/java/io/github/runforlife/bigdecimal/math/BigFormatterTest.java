package io.github.runforlife.bigdecimal.math;

import org.junit.Test;

import java.math.BigDecimal;
import java.math.RoundingMode;

import static org.junit.Assert.assertEquals;

public class BigFormatterTest {
    @Test
    public void format_zeroes() {
        assertEquals("0", BigFormatter.format(new BigDecimal("0E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("0.0E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("00E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-0E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-0.0E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-00E-2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0", BigFormatter.format(new BigDecimal("0E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("0.0E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("00E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-0E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-0.0E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-00E-1"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0", BigFormatter.format(new BigDecimal("0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("0.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("00"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-0.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-00"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0", BigFormatter.format(new BigDecimal("0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("0.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("00E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-0.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-00E+0"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0", BigFormatter.format(new BigDecimal("0E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("0.0E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("00E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-0E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-0.0E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-00E+1"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0", BigFormatter.format(new BigDecimal("0E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("0.0E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("00E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-0E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-0.0E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0", BigFormatter.format(new BigDecimal("-00E+2"), 7, RoundingMode.HALF_EVEN));
    }

    @Test
    public void format_one_digit() {
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.0001E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.00010E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.00001E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.000010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.000001E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.0000010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.000001"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.0000010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.000001E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.0000010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.0000001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.00000010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.00000001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E-6", BigFormatter.format(new BigDecimal("0.000000010E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.0001E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.00010E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.00001E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.000010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.000001E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.0000010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.000001"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.0000010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.000001E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.0000010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.0000001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.00000010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.00000001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-6", BigFormatter.format(new BigDecimal("-0.000000010E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.001E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.0010E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.0001E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.00010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.00001E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.000010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.00001"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.000010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.00001E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.000010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.000001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.0000010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.0000001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00001", BigFormatter.format(new BigDecimal("0.00000010E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.001E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.0010E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.0001E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.00010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.00001E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.000010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.00001"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.000010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.00001E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.000010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.000001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.0000010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.0000001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E-5", BigFormatter.format(new BigDecimal("-0.00000010E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.01E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.010E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.001E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.0010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.0001E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.00010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.0001"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.00010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.0001E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.00010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.00001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.000010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.000001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.0001", BigFormatter.format(new BigDecimal("0.0000010E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.01E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.010E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.001E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.0010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.0001E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.00010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.0001"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.00010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.0001E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.00010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.00001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.000010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.000001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.0001", BigFormatter.format(new BigDecimal("-0.0000010E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.1E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.10E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.01E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.001E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.0010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.001"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.0010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.001E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.0010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.0001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.00010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.00001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.000010E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.1E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.10E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.01E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.001E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.0010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.001"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.0010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.001E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.0010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.0001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.00010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.00001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.000010E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0.01", BigFormatter.format(new BigDecimal("1E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("01E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.1E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.10E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.01E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.01"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.01E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.0010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.0001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.00010E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-1E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-01E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.1E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.10E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.01E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.01"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.01E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.0010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.0001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.00010E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0.1", BigFormatter.format(new BigDecimal("10E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("010E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("1E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("01E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.1E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.10E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.10"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.1E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.10E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.01E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.0010E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-10E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-010E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-1E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-01E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.1E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.10E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.10"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.1E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.10E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.01E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.0010E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("1", BigFormatter.format(new BigDecimal("100E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("0100E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("10E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("1E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("01E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("01"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("1.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("01.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("1.E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("1.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("0.1E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("0.10E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("0.01E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("0.010E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-100E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-0100E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-10E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-1E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-1.0E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-01"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-1.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-01.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-1.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-01.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-0.1E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-0.10E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-0.01E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-0.010E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("10", BigFormatter.format(new BigDecimal("1000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("01000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("100E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("0100E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("10E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("10"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("10.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("010.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("10E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("1E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("01E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("0.1E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("0.10E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-1000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-01000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-100E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-0100E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-10E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-10"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-10.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-010.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-10.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-010.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-1E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-01E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-0.1E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-0.10E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("100", BigFormatter.format(new BigDecimal("10000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("010000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("1000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("01000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("100E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("0100E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("100"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("0100"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("100.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("0100.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("100E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("0100E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("10E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("1E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("01E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-10000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-010000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-1000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-01000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-100E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-0100E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-100"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-0100"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-100.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-0100.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-100.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-0100.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-10E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-1E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-01E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("1000", BigFormatter.format(new BigDecimal("100000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("0100000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("10000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("010000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("1000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("01000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("1000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("01000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("1000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("01000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("1000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("01000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("100E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("0100E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("10E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("010E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-100000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-0100000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-10000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-010000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-1000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-01000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-1000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-01000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-1000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-01000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-1000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-01000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-100E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-0100E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-10E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-010E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("10000", BigFormatter.format(new BigDecimal("1000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("01000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("100000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("0100000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("10000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("010000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("10000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("010000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("10000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("010000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("10000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("010000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("1000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("01000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("100E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("0100E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-1000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-01000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-100000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-0100000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-10000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-010000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-10000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-010000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-10000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-010000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-10000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-010000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-1000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-01000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-100E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-0100E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("100000", BigFormatter.format(new BigDecimal("10000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("010000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("1000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("01000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("100000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("0100000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("100000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("0100000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("100000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("0100000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("100000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("0100000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("10000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("010000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("1000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100000", BigFormatter.format(new BigDecimal("01000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-10000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-010000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-1000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-01000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-100000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-0100000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-100000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-0100000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-100000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-0100000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-100000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-0100000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-10000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-010000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-1000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100000", BigFormatter.format(new BigDecimal("-01000E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("1000000", BigFormatter.format(new BigDecimal("100000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("0100000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("10000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("010000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("1000000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("01000000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("1000000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("01000000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("1000000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("01000000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("1000000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("01000000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("100000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("0100000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("10000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000000", BigFormatter.format(new BigDecimal("010000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-100000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-0100000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-10000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-010000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-1000000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-01000000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-1000000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-01000000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-1000000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-01000000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-1000000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-01000000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-100000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-0100000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-10000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+6", BigFormatter.format(new BigDecimal("-010000E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("1E+7", BigFormatter.format(new BigDecimal("1000000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("01000000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("100000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("0100000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("10000000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("010000000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("10000000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("010000000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("10000000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("010000000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("10000000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("010000000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("1000000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("01000000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("100000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1E+7", BigFormatter.format(new BigDecimal("0100000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-1000000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-01000000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-100000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-0100000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-10000000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-010000000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-10000000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-010000000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-10000000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-010000000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-10000000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-010000000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-1000000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-01000000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-100000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1E+7", BigFormatter.format(new BigDecimal("-0100000E+2"), 7, RoundingMode.HALF_EVEN));
    }

    @Test
    public void format_two_digit() {
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.00012E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.000120E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.000012E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.0000120E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.0000012E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.00000120E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.0000012"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.00000120"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.0000012E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.00000120E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.00000012E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.000000120E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.000000012E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-6", BigFormatter.format(new BigDecimal("0.0000000120E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.00012E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.000120E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.000012E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.0000120E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.0000012E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.00000120E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.0000012"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.00000120"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.0000012E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.00000120E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.00000012E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.000000120E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.000000012E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-6", BigFormatter.format(new BigDecimal("-0.0000000120E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.0012E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.00120E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.00012E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.000120E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.000012E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.0000120E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.000012"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.0000120"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.000012E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.0000120E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.0000012E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.00000120E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.00000012E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E-5", BigFormatter.format(new BigDecimal("0.000000120E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.0012E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.00120E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.00012E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.000120E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.000012E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.0000120E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.000012"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.0000120"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.000012E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.0000120E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.0000012E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.00000120E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.00000012E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-5", BigFormatter.format(new BigDecimal("-0.000000120E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.012E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.0120E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.0012E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.00120E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.00012E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.000120E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.00012"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.000120"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.00012E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.000120E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.000012E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.0000120E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.0000012E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.00012", BigFormatter.format(new BigDecimal("0.00000120E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.012E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.0120E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.0012E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.00120E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.00012E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.000120E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.00012"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.000120"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.00012E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.000120E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.000012E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.0000120E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.0000012E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E-4", BigFormatter.format(new BigDecimal("-0.00000120E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.1E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.10E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.01E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.001E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.0010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.001"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.0010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.001E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.0010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.0001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.00010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.00001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.001", BigFormatter.format(new BigDecimal("0.000010E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.1E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.10E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.01E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.001E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.0010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.001"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.0010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.001E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.0010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.0001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.00010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.00001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.001", BigFormatter.format(new BigDecimal("-0.000010E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0.01", BigFormatter.format(new BigDecimal("1E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("01E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.1E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.10E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.01E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.01"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.01E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.0010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.0001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.01", BigFormatter.format(new BigDecimal("0.00010E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-1E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-01E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.1E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.10E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.01E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.01"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.01E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.001E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.0010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.0001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.01", BigFormatter.format(new BigDecimal("-0.00010E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("0.1", BigFormatter.format(new BigDecimal("10E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("010E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("1E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("01E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.1E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.10E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.10"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.1E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.10E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.01E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("0.1", BigFormatter.format(new BigDecimal("0.0010E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-10E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-010E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-1E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-01E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.1E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.10E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.10"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.1E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.10E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.01E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.001E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-0.1", BigFormatter.format(new BigDecimal("-0.0010E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("1", BigFormatter.format(new BigDecimal("100E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("0100E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("10E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("1E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("01E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("01"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("1.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("01.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("1.E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("1.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("0.1E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("0.10E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("0.01E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1", BigFormatter.format(new BigDecimal("0.010E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-100E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-0100E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-10E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-010E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-1E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-1.0E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-01"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-1.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-01.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-1.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-01.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-0.1E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-0.10E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-0.01E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1", BigFormatter.format(new BigDecimal("-0.010E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("10", BigFormatter.format(new BigDecimal("1000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("01000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("100E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("0100E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("10E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("10"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("10.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("010.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("10E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("010E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("1E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("01E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("0.1E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10", BigFormatter.format(new BigDecimal("0.10E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-1000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-01000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-100E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-0100E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-10E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-010E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-10"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-010"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-10.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-010.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-10.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-010.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-1E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-01E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-0.1E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10", BigFormatter.format(new BigDecimal("-0.10E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("100", BigFormatter.format(new BigDecimal("10000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("010000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("1000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("01000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("100E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("0100E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("100"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("0100"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("100.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("0100.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("100E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("0100E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("10E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("1E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("100", BigFormatter.format(new BigDecimal("01E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-10000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-010000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-1000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-01000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-100E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-0100E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-100"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-0100"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-100.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-0100.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-100.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-0100.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-10E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-010E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-1E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-100", BigFormatter.format(new BigDecimal("-01E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("1000", BigFormatter.format(new BigDecimal("100000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("0100000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("10000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("010000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("1000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("01000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("1000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("01000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("1000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("01000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("1000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("01000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("100E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("0100E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("10E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1000", BigFormatter.format(new BigDecimal("010E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-100000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-0100000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-10000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-010000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-1000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-01000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-1000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-01000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-1000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-01000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-1000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-01000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-100E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-0100E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-10E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1000", BigFormatter.format(new BigDecimal("-010E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("10000", BigFormatter.format(new BigDecimal("1000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("01000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("100000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("0100000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("10000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("010000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("10000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("010000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("10000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("010000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("10000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("010000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("1000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("01000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("100E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("10000", BigFormatter.format(new BigDecimal("0100E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-1000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-01000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-100000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-0100000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-10000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-010000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-10000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-010000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-10000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-010000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-10000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-010000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-1000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-01000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-100E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-10000", BigFormatter.format(new BigDecimal("-0100E+2"), 7, RoundingMode.HALF_EVEN));






        assertEquals("120000", BigFormatter.format(new BigDecimal("12000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("012000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("1200000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("01200000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("120000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("0120000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("120000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("0120000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("120000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("0120000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("120000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("0120000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("12000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("012000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("1200E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("120000", BigFormatter.format(new BigDecimal("01200E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-12000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-012000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-1200000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-01200000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-120000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-0120000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-120000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-0120000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-120000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-0120000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-120000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-0120000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-12000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-012000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-1200E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-120000", BigFormatter.format(new BigDecimal("-01200E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("1200000", BigFormatter.format(new BigDecimal("120000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("0120000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("12000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("012000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("1200000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("01200000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("1200000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("01200000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("1200000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("01200000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("1200000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("01200000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("120000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("0120000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("12000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1200000", BigFormatter.format(new BigDecimal("012000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-120000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-0120000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-12000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-012000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-1200000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-01200000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-1200000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-01200000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-1200000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-01200000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-1200000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-01200000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-120000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-0120000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-12000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+6", BigFormatter.format(new BigDecimal("-012000E+2"), 7, RoundingMode.HALF_EVEN));

        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("1200000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("01200000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("120000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("0120000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("12000000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("012000000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("12000000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("012000000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("12000000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("012000000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("12000000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("012000000E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("1200000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("01200000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("120000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("1.2E+7", BigFormatter.format(new BigDecimal("0120000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-1200000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-01200000000E-2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-120000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-0120000000E-1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-12000000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-012000000E-0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-12000000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-012000000"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-12000000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-012000000.0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-12000000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-012000000.0E+0"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-1200000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-01200000E+1"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-120000E+2"), 7, RoundingMode.HALF_EVEN));
        assertEquals("-1.2E+7", BigFormatter.format(new BigDecimal("-0120000E+2"), 7, RoundingMode.HALF_EVEN));
    }

    @Test
    public void asdf() {
    }
}